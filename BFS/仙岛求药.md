```c
#include <iostream>
#include <iomanip>
#include <cmath>
#include <stdio.h>
#include <queue>
#include <cstring>
#include <set>
using namespace std;

struct Node{
	int x;
	int y;
	int sum;
	Node(int _x, int _y, int _sum){
		x = _x;
		y = _y;
		sum = _sum;
	}
	Node(){}
};

Node s;
Node e;

int m, n;
int num;
int map[30][30];
int vis[30][30];
int x_index[4] = {-1, 1, 0, 0};
int y_index[4] = {0, 0, 1, -1};
queue<Node> qu;

int bfs(){
	vis[s.x][s.y] = 1;
	qu.push(s);
	while(!qu.empty()){
		Node node = qu.front();
		qu.pop();
		if (node.x == e.x && node.y == e.y)
			return node.sum;
		for (int i = 0; i < 4; i++){
			int x = node.x + x_index[i];
			int y = node.y + y_index[i];
			if (x >= 0 && x < m && y >= 0 && y < n){
				if (vis[x][y] == 0 && map[x][y] != 1){
					vis[x][y] = 1;
					qu.push(Node(x, y, node.sum+1));
				}
			}
		}
	}
	return -1;
}

int main(){
	while(cin >> m >> n){
		if (m == 0 && n == 0)
			break;
		memset(vis, 0, sizeof(vis));
		memset(map, 0, sizeof(map));
		while(!qu.empty())
			qu.pop();
		for (int i = 0; i < m; i++){
			for (int j = 0; j < n; j++){
				char temp;
				cin >> temp;
				if (temp == '@'){
					s.x = i;
					s.y = j;
					s.sum = 0;
				}
				if (temp == '*'){
					e.x = i;
					e.y = j;
				}
				if (temp == '#')
					map[i][j] = 1;
			}
		}
		cout << bfs() << endl;
	}
    return 0;
}
```
